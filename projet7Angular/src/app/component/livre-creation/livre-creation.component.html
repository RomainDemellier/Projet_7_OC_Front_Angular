<div class="container">
  <div class="row">
    <div class="col s6 offset-s3">
      <div class="container">
        <h2 class="header center-align">CrÃ©er un livre </h2>
      </div>
      <div class="card horizontal">
        <div class="card-stacked">
          <div class="card-content">
            <form [formGroup]="livreCreationForm" class="col s12 white" (submit)="onSubmit()">
              <div class="row">
                <div class="input-field col s10">
                  <input type="text" formControlName="titre" placeholder="Titre">
                  <small class="red-text" *ngIf="titre.errors?.required && titre.touched">Ce champ est requis</small>
                </div>
                <div class="row">
                  <div class="input-field col s5">

                    <!-- <div *ngIf="auteurExiste"> -->
                      <select formControlName="auteur" style="display: block;" *ngIf="auteurListe">
                        <option value="">Liste d'auteurs</option>
                        <option  *ngFor="let aut of auteurListe" [value]="aut.id">{{ aut.prenom + ' ' + aut.nom }}</option>
                      </select>
                      <small class="red-text" *ngIf="auteur.errors?.required && auteur.touched">Ce champ est requis</small>
                    <!-- </div> -->
                  </div>
                  <div class="input-field col s7">
                    <p>
                      <label>
                        <input class="with-gap" type="radio" name="estDansListe" formControlName="estDansListe" value="true" (change)="onChange()">
                        <span>Auteur dans la liste</span>
                      </label>
                    </p>
                    <p>
                      <label>
                        <input class="with-gap" type="radio" name="estDansListe" formControlName="estDansListe" value="false"  (change)="onChange()">
                        <span>Pas dans la liste</span>
                      </label>
                    </p>
                  </div>
                </div>
                <div *ngIf="!auteurExiste">
                  <div formGroupName="auteurCreer">
                    <div class="row">
                      <div class="input-field col s10">
                        <input type="text" formControlName="prenom" placeholder="PrÃ©nom de l'auteur">
                        <small class="red-text" *ngIf="prenom.errors?.required && prenom.touched">Ce champ est requis</small>
                      </div>
                    </div>
                    <div class="row">
                      <div class="input-field col s10">
                        <input type="text" formControlName="nom" placeholder="Nom de l'auteur">
                        <small class="red-text" *ngIf="nom.errors?.required && nom.touched">Ce champ est requis</small>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="input-field col s10">
                  <input type="text" formControlName="genre" placeholder="Genre">
                  <small class="red-text" *ngIf="genre.errors?.required && genre.touched">Ce champ est requis</small>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s10">
                  <input type="text" formControlName="nbreExemplaires" placeholder="Nombre d'exemplaires">
                  <small class="red-text" *ngIf="nbreExemplaires.errors?.required && nbreExemplaires.touched">Ce champ est requis</small>
                  <small class="red-text" *ngIf="nbreExemplaires.errors?.onlyNumbers && !nbreExemplaires.pristine && !nbreExemplaires.errors?.required">Ne rentrez que des chiffres</small>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                  <button class="btn-large btn-submit" type="submit" [disabled]="!livreCreationForm.valid">Envoyer
                    <i class="material-icons right">send</i>
                  </button>
                </div>
              </div>
            </form>
        </div>
      </div>
    </div>
            
  </div>
</div>
